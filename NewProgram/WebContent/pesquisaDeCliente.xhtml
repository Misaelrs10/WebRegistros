<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:p="http://primefaces.org/ui"
	lang="pt-br">

		<ui:composition template="layout.xhtml">
		<ui:param name="title" value="Pesquisa de Cliente" />
				<ui:define name="conteudo">
					<f:metadata>
						<f:viewAction action="#{pesquisaClienteBean.check}" />
					</f:metadata>
				
				<form jsf:id="form">
					<fieldset>				
						<legend>Dados para Pesquisa</legend>
						<label for="id">Matrícula:</label><br />
						<input type="text" jsf:value="#{pesquisaClienteBean.id}" id="id" jsf:label="id" /><br />
						
						<label for="nome">Nome:</label><br />
						<input type="text" jsf:value="#{pesquisaClienteBean.nome}" id="nome" jsf:label="nome" /><br />
										
						<label for="cpf">CPF:</label><br />
						<input type="text" jsf:value="#{pesquisaClienteBean.cpf}" id="cpf" jsf:label="cpf" /><br />
										
						<label for="celular">Celular:</label><br />
						<input type="text" jsf:value="#{pesquisaClienteBean.celular}" id="celular" jsf:label="celular" /><br />
					</fieldset>
					<br />
					
					<input type="submit" value="Pesquisar" jsf:action="#{pesquisaClienteBean.pesquisar}" />
					
				
				
					<h:panelGroup rendered="#{not empty pesquisaClienteBean.clientes}">		
						<table>
							<tr>
								<th>Matrícula</th>
								<th>Nome</th>
								<th>CPF</th>
								<th>Celular</th>
								<th>Situação</th>
								<th>Ações</th>
							</tr>
							<ui:repeat var="c" value="#{pesquisaClienteBean.clientes}">
						
							<tr>
								<td>#{c.id}</td>
								<td>#{c.nome}</td>
								<td>#{c.cpf}</td>
								<td>#{c.celular}</td>
								<td>#{c.situacao}</td>
								<td>
									<input type="button" value="Editar" jsf:outcome="dadosCliente?id=#{c.id}" />&#160;
									<input type="submit" value="Excluir" onclick="return confirm('Deseja excluir o cliente #{c.id}?');" jsf:action="#{pesquisaClienteBean.excluir(c.id)}" />
								</td>
							</tr>
							</ui:repeat>	
						</table>
					</h:panelGroup>
				</form>			
			</ui:define>
		</ui:composition>
</html>		
